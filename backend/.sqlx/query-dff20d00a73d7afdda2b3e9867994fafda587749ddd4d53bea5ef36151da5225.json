{
  "db_name": "PostgreSQL",
  "query": "UPDATE v2_job_status SET flow_status = \n                                 CASE \n                                 WHEN flow_status->'modules'->$1::int->'flow_jobs_duration' IS NOT NULL THEN\n                                    JSONB_SET(\n                                         JSONB_SET(JSONB_SET(JSONB_SET(\n                                            flow_status, \n                                            ARRAY['modules', $1::TEXT, 'flow_jobs_success', $3::TEXT], $4), \n                                            ARRAY['modules', $1::TEXT, 'flow_jobs_duration', 'started_at', $3::TEXT], $5), \n                                            ARRAY['modules', $1::TEXT, 'flow_jobs_duration', 'duration_ms', $3::TEXT], $6),\n                                            ARRAY['modules', $1::TEXT, 'iterator', 'index'], ((flow_status->'modules'->$1::int->'iterator'->>'index')::int + 1)::text::jsonb\n                                     )\n                                 ELSE\n                                    JSONB_SET(JSONB_SET(flow_status, ARRAY['modules', $1::TEXT, 'flow_jobs_success', $3::TEXT], $4),\n                                         ARRAY['modules', $1::TEXT, 'iterator', 'index'],\n                                         ((flow_status->'modules'->$1::int->'iterator'->>'index')::int + 1)::text::jsonb\n                                     )                                 \n                                END\n                                 WHERE id = $2\n                                 RETURNING (flow_status->'modules'->$1::int->'iterator'->>'index')::int",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "int4",
        "type_info": "Int4"
      }
    ],
    "parameters": {
      "Left": [
        "Int4",
        "Uuid",
        "Text",
        "Jsonb",
        "Jsonb",
        "Jsonb"
      ]
    },
    "nullable": [
      null
    ]
  },
  "hash": "dff20d00a73d7afdda2b3e9867994fafda587749ddd4d53bea5ef36151da5225"
}
